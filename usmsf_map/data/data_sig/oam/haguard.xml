<?xml version="1.0" encoding="UTF-8"?>
<haguard_conf>
	<haguard type="AS"> <!-- AS(Active-Standby), AA(Active-Active), SA(StandAlone) -->
		<socket send_interval="2" init_interval="5" port="1010" peer_timeout="30" manual_switch_timeout="10"/>
		<heartbeat ipv6="false" />
		<haguard0 name="smscfep1"/>
		<haguard1 name="SMSC_FEP2"/>
	</haguard>
	<user_config set_standby_by_user="false"/>

	<network_path>
		<path name="fep" ipv6="false" haguard0_ip="172.16.200.13" haguard1_ip="172.16.200.14" />
	</network_path>

	<failover>
		<switch_script>
			<active path="$(UASYS_HOME)/scripts/active.sh"/>
			<standby path="$(UASYS_HOME)/scripts/standby.sh"/>
		</switch_script>

		<condition check_condition="true">
            <resource group_name="RESOURCE" enabled="false" interval="10">
                <cpu    name="CPU_USAGE" threshold="50" wait_time="10" />
                <memory name="MEM_USAGE" threshold="99" wait_time="10" />
                <disk   name="/"         threshold="99" wait_time="10" />
            </resource>
  			<processes enabled="false" interval="1">
              			<!--process name="cdrlog" wait_time="180"/>
              			<process name="bpsubs" wait_time="180"/>
              			<process name="omsproxy" wait_time="180"/>
              			<process name="omsd" wait_time="180"/-->
    				<!--process name="omsproxy"/-->
  			</processes>
  			<networks enabled="false" interval="1">
				<!--network name="scp_sdp">
					<path name="scp"/>
					<path name="sdp"/>
				</network-->
  			</networks>
  			<scripts enabled="false" interval="5">
				<script name="check_file" path="$(UASYS_HOME)/data/script/checkFile.sh"/>
  			</scripts>
		</condition>

		<virtual_ip enabled="false" repeat_up="true" repeat_interval="300" using_arping="true" ipv6_renew_try="1" ipv6_renew_msleep="2000">
			<vip path_name="fep" ipv6="false" haguard0_vip="192.168.1.244" haguard1_vip="192.168.1.244" netmask="255.255.255.192" broadcast="10.24.138.63" vid="1"/>
  		</virtual_ip>
	</failover>

</haguard_conf>
