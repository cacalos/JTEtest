SubDir TOP lib nqlib ;
SubDirHdrs $(TOP)/inc $(UALIB_SRC_HOME)/include ;
SOURCES =  nqlib ;

LOCAL_DEFINES = -D_PSTAT64 ;

TARGET = libNQ ;
SHLTARGET = $(TARGET)$(SUFSHARED) ;
Library $(TARGET) : $(SOURCES).c ;
SharedLibraryMain $(SHLTARGET) : $(TARGET)$(SUFLIB) ;
InstallLib $(SMSC_HOME)/lib : $(TARGET)$(SUFLIB) ;
Copy $(TARGET)$(SUFLIB) : $(SMSC_HOME)/lib ;

# .c -> .o compile option
ObjectCcFlags $(SOURCES)$(SUFOBJ) : $(LOCAL_DEFINES) $(SYS_CCFLAGS) $(SYS_SHAREDCCFLAGS) ;

# copy files to lib directory
InstallBin $(SMSC_HOME)/lib : $(TARGET)$(SUFSHARED) ;
CopySysFile $(TARGET)$(SUFSHARED) : $(TOP)/lib ;

SYS_LINT = clang --analyze --analyzer-output text ;
#LINTFLAGS = --xml ;
Lint check : $(SOURCES).c ;
