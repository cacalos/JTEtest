SubDir TOP sigtran mo ;
SubDirHdrs $(TOP)/inc $(TOP)/inc/MMDB $(UALIB_SRC_HOME)/include 
		$(ULIB_SRC_HOME)/include $(TOP)/SS7_v31/inc $(USRG_ROOT)/include $(UXLIB_SRC_HOME)/include $(UDIA_SRC_HOME)/include ;
SubDirHdrs $(UANGIN_SRC_HOME)/include ;
SubDirHdrs $(MMDB_SRC_HOME)/include ;

SOURCES = mo mo_resq mms_hash resq ;

TARGET = sigmo ;
Main $(TARGET) : $(SOURCES).c ;

if $(OSPLAT) = ia64 {
	LINKLIBS on $(TARGET) = -Wl,+s,+compat -L$(UASYS_HOME)/lib -lsys_lib -lGCA -lMSG -lMMDB -lTPDU -lUTIL -lSigTrace -luxlib
		-lSS7 -lsigtran_util -lOSSASN $(OSS_LIB)
		-lua_common
		-L$(USRG_ROOT)/lib -lutcap -lulib ;
} else {
	LINKLIBS on $(TARGET) = -L$(UASYS_HOME)/lib -lsys_lib -lGCA -lMSG -lRPDU -lUTIL -luxlib -lsigcommon
		-lSS7 -lsigtran_util -lOSSASN $(OSS_LIB)
		-lua_common  
		-L$(USRG_ROOT)/lib -lutcap -lulib -ldl ;
}

LOCAL_DEFINES = -D_MODULE_NAME='\"$(TARGET)\"' -D_PSTAT64 -DTCAP_WHITE -DUSIGTRAN ;







# .c -> .o compile option
ObjectCcFlags $(SOURCES)$(SUFOBJ) : $(LOCAL_DEFINES) $(SYS_CCFLAGS) ;

InstallBin $(SMSC_HOME)/bin : $(TARGET) ;
CopySysFile $(TARGET) : $(TOP)/bin ;

