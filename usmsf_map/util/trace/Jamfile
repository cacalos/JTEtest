SubDir TOP util trace ;
#SubDirHdrs $(TOP)/inc $(UALIB_SRC_HOME)/include $(ISAM_HOME)/include $(TOP)/inc/MMDB $(MMDB_SRC_HOME)/include ;
SubDirHdrs $(TOP)/inc $(UALIB_SRC_HOME)/include $(ISAM_HOME)/include ;
SOURCES = trace ;

TARGET = trace ;
Main $(TARGET) : $(SOURCES).c ;

#LINKLIBS on $(TARGET) = -L$(UASYS_HOME)/lib -lGCA -lMSG -lTPDU -lUTIL -lCLIENT -lsys_lib ;
#LINKLIBS on $(TARGET) = -L$(UASYS_HOME)/lib -lGCA -lMSG -lTPDU -lUTIL -lCLIENT -lsys_lib -L$(ISAM_HOME)/lib -lisam -lisamnls  ;
#LINKLIBS on $(TARGET) = -L$(UASYS_HOME)/lib -lGCA -lMSG -lTPDU -lUTIL -lCLIENT -lsys_lib ; 

#MOD_LIBS = -L$(UASYS_HOME)/lib -lGCA -lTCP -lUTIL -lnew_mmdb -lnew_mmdbutil -lNQ -liconv -luxcutor -luxlib ;
#MOD_LIBS = -L$(UASYS_HOME)/lib -lGCA -lTCP -lUTIL -lNQ -liconv -luxcutor -luxlib ;
MOD_LIBS = -L$(UASYS_HOME)/lib -lGCA -lTCP -lUTIL -lNQ -liconv -luxlib ;
#MOD_LIBS = -L$(UASYS_HOME)/lib -lGCA -lUTIL -lNQ -liconv -luxcutor -luxlib ;
#MYSQL_LIBS = -lMYSQL -lOAMAPI -L$(MYSQL_LIB) -lmysqlclient ;
LINKLIBS on $(TARGET) = -L/usr/local/lib -lm -L$(UASYS_HOME)/lib $(MOD_LIBS) -lsys_lib -lua_common ;

LOCAL_DEFINES = -D_MODULE_NAME='\"$(TARGET)\"' -D_PSTAT64 -DENHANCED_OAM ;

# .c -> .o compile option
ObjectCcFlags $(SOURCES)$(SUFOBJ) : $(LOCAL_DEFINES) $(SYS_CCFLAGS) ;

InstallBin $(SMSC_HOME)/bin : $(TARGET) ;
CopySysFile $(TARGET) : $(TOP)/bin ;

